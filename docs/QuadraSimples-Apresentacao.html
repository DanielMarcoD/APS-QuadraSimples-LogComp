<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuadraSimples - Apresentação APS</title>
    <style>
        @page {
            size: A4 landscape;
            margin: 2cm;
        }
        @media print {
            body {
                background: white;
            }
            .slide {
                box-shadow: none;
                margin: 0;
                page-break-after: always;
            }
        }
        body {
            font-family: Arial, Helvetica, sans-serif;
            line-height: 1.6;
            max-width: 100%;
            margin: 0;
            padding: 0;
            background: white;
            color: #000;
        }
        .slide {
            background: white;
            padding: 50px 60px;
            margin: 0;
            page-break-after: always;
            min-height: 18cm;
            max-height: 18cm;
        }
        h1 {
            color: #1a1a1a;
            border-bottom: 3px solid #333;
            padding-bottom: 10px;
            font-size: 2.2em;
            margin-top: 0;
        }
        h2 {
            color: #333;
            margin-top: 25px;
            font-size: 1.8em;
        }
        h3 {
            color: #444;
            margin-top: 15px;
            font-size: 1.4em;
        }
        pre {
            background: #f4f4f4;
            color: #000;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 0.85em;
            font-family: 'Courier New', Courier, monospace;
            line-height: 1.4;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
        }
        ul, ol {
            margin: 15px 0;
            padding-left: 35px;
        }
        li {
            margin: 8px 0;
            line-height: 1.5;
        }
        .highlight {
            background: #fffbea;
            padding: 12px;
            border-left: 4px solid #666;
            margin: 15px 0;
            overflow-wrap: break-word;
        }
        .highlight p {
            white-space: normal;
        }
        .success {
            background: #f0f8f0;
            padding: 12px;
            border-left: 4px solid #333;
            margin: 15px 0;
            white-space: nowrap;
            overflow: visible;
        }
        .success br {
            content: ' ';
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.7em;
            table-layout: auto;
        }
        th, td {
            padding: 6px 5px;
            text-align: left;
            border: 1px solid #999;
            white-space: nowrap;
            font-size: 0.7em;
            overflow: hidden;
        }
        th {
            background: #e0e0e0;
            color: #000;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        .center {
            text-align: center;
        }
        p {
            margin: 10px 0;
            white-space: normal;
            word-wrap: break-word;
        }
        strong {
            font-weight: bold;
            white-space: nowrap;
        }
        a {
            color: #000;
            text-decoration: underline;
            white-space: nowrap;
        }
    </style>
</head>
<body>

<!-- SLIDE 1: TÍTULO -->
<div class="slide">
    <h1 class="center">QuadraSimples</h1>
    <h2 class="center">Linguagem de Programação para Tênis</h2>
    <div style="text-align: center; margin-top: 100px;">
        <p style="font-size: 1.4em;"><strong>APS - Lógica da Computação</strong></p>
        <p style="font-size: 1.2em; margin-top: 20px;">Insper - Engenharia da Computação</p>
        <p style="font-size: 1.2em; margin-top: 60px;">Daniel Marco Djanikian</p>
        <p style="font-size: 1.1em; margin-top: 10px;">Dezembro 2025</p>
    </div>
</div>

<!-- SLIDE 2: MOTIVAÇÃO -->
<div class="slide">
    <h1>Motivação</h1>
    <h3>Por que criar uma linguagem para tênis?</h3>
    <ul style="font-size: 1.1em; line-height: 1.8;">
        <li><strong>Treinos estruturados:</strong> Descrever rotinas de forma programática</li>
        <li><strong>Simulação de partidas:</strong> Reproduzir jogos com placar oficial</li>
        <li><strong>Domínio específico:</strong> Comandos naturais para o contexto esportivo</li>
        <li><strong>Repetição e variação:</strong> Loops e condicionais para padrões táticos</li>
        <li><strong>Análise de desempenho:</strong> Variáveis para rastrear estatísticas</li>
    </ul>
    <div class="highlight" style="margin-top: 40px;">
        <strong>Diferencial:</strong> Combina lógica de programação imperativa com vocabulário de tênis profissional.
    </div>
</div>

<!-- SLIDE 3: CARACTERÍSTICAS -->
<div class="slide">
    <h1>Características da Linguagem</h1>
    <table>
        <tr>
            <th>Categoria</th>
            <th>Recursos</th>
        </tr>
        <tr>
            <td><strong>Estruturas Básicas</strong></td>
            <td>Variáveis, atribuição, expressões aritméticas e booleanas</td>
        </tr>
        <tr>
            <td><strong>Controle de Fluxo</strong></td>
            <td><code>if/else</code>, <code>while</code>, blocos <code>{}</code></td>
        </tr>
        <tr>
            <td><strong>Entrada/Saída</strong></td>
            <td><code>readline()</code>, <code>log()</code>, <code>print()</code></td>
        </tr>
        <tr>
            <td><strong>Comandos de Tênis</strong></td>
            <td><code>sessao</code>, <code>etapa</code>, <code>saque</code>, <code>rally</code>, <code>point</code>, <code>ace</code>, <code>doublefault</code></td>
        </tr>
        <tr>
            <td><strong>Gerenciamento de Jogo</strong></td>
            <td><code>start</code>, <code>score</code>, <code>rename</code>, <code>config</code></td>
        </tr>
        <tr>
            <td><strong>Tipos de Dados</strong></td>
            <td>Inteiros, booleanos, strings</td>
        </tr>
    </table>
</div>

<!-- SLIDE 4: EXEMPLO DE CÓDIGO -->
<div class="slide">
    <h1>Exemplo: Treino Básico Completo</h1>
    <pre>
# Programa de treino estruturado
sessao("Treino de Fundamentos") {
    etapa("Aquecimento", dur=15);
    log("Iniciando aquecimento...");
    
    # Loop de exercícios de rally
    contador = 0;
    while (contador < 10) {
        rally(A, "Forehand cruzado");
        rally(B, "Backhand paralelo");
        contador = contador + 1;
        log("Repetição completada");
    }
    
    descanso(5);
    log("Descanso de 5 minutos");
    
    etapa("Saques", reps=20);
    log("Treino finalizado!");
}
</pre>
    <div class="success" style="margin-top: 15px;">
        <strong>Vantagens:</strong> Sintaxe clara e legível - Mistura comandos de domínio com lógica imperativa - Fácil de entender mesmo sem conhecer tênis.
    </div>
</div>

<!-- SLIDE 5: EXEMPLO DE PARTIDA -->
<div class="slide">
    <h1>Exemplo: Simulação de Partida Completa</h1>
    <pre>
# Configuração da partida
start("Nadal", "Federer");
config("no_ad", 0);

# Primeiro game - Nadal sacando
saque(A, "Ace no T");
ace(A);                    # 15-0
rally(A, "Forehand winner");
point(A);                  # 30-0
rally(B, "Backhand passing shot");
point(B);                  # 30-15
saque(A, "Kick serve");
rally(A, "Smash");
point(A);                  # 40-15
ace(A);                    # Game Nadal
score();

# Segundo game - Federer sacando
saque(B, "Slice aberto");
rally(B, "Backhand down the line");
point(B);                  # 0-15
</pre>
    <div class="highlight" style="margin-top: 10px;">
        <strong>Saída:</strong> Placar profissional com box-drawing Unicode.
    </div>
</div>

<!-- SLIDE 6: GRAMÁTICA EBNF -->
<div class="slide">
    <h1>Gramática EBNF Completa</h1>
    <pre>
PROGRAM = { STATEMENT } ;

STATEMENT = BLOCK | IF_STMT | WHILE_STMT | SESSAO_STMT 
          | TENNIS_CMD | ASSIGNMENT | EXPRESSION, ";" ;

BLOCK = "{", { STATEMENT }, "}" ;

IF_STMT = "if", "(", BOOL_EXPR, ")", BLOCK, [ "else", BLOCK ], ";" ;

WHILE_STMT = "while", "(", BOOL_EXPR, ")", BLOCK, ";" ;

SESSAO_STMT = "sessao", "(", STRING, ")", BLOCK, ";" ;

TENNIS_CMD = START_CMD | POINT_CMD | ACE_CMD | DOUBLEFAULT_CMD 
           | SAQUE_CMD | RALLY_CMD | SCORE_CMD | CONFIG_CMD 
           | ETAPA_CMD | DESCANSO_CMD | RENAME_CMD ;

ASSIGNMENT = IDENTIFIER, "=", EXPRESSION, ";" ;

BOOL_EXPR = REL_EXPR, { ("&&" | "||"), REL_EXPR } ;

REL_EXPR = EXPRESSION, [ ("==" | "!=" | "<" | ">" | "<=" | ">="), EXPRESSION ] ;

EXPRESSION = TERM, { ("+" | "-"), TERM } ;

TERM = FACTOR, { ("*" | "/"), FACTOR } ;

FACTOR = "(", EXPRESSION, ")" | NUMBER | IDENTIFIER 
       | READLINE_EXPR | STRING | PLAYER ;

PLAYER = "A" | "B" ;

NUMBER = DIGIT, { DIGIT } ;

DIGIT = "0" | "1" | ... | "9" ;
</pre>
</div>

<!-- SLIDE 7: ARQUITETURA -->
<div class="slide">
    <h1>Arquitetura do Sistema</h1>
    <pre>
┌─────────────────┐
│  Código .qs     │  ← Linguagem de alto nível
└────────┬────────┘
         │ Flex + Bison
         ↓
┌─────────────────┐
│ quadrasimples   │  ← Compilador (análise léxica/sintática)
└────────┬────────┘
         │ codegen.c
         ↓
┌─────────────────┐
│   out.qvm       │  ← Assembly intermediário
└────────┬────────┘
         │ Interpretação
         ↓
┌─────────────────┐
│   quadravm      │  ← Máquina Virtual customizada
└────────┬────────┘
         ↓
    Saída (terminal)
</pre>
</div>

<!-- SLIDE 8: MÁQUINA VIRTUAL -->
<div class="slide">
    <h1>QuadraVM - Máquina Virtual</h1>
    <h3>Arquitetura Stack-Based com Registradores</h3>
    <table>
        <tr>
            <th>Componente</th>
            <th>Descrição</th>
        </tr>
        <tr>
            <td><strong>Stack</strong></td>
            <td>1024 elementos para operações aritméticas/lógicas</td>
        </tr>
        <tr>
            <td><strong>Variáveis</strong></td>
            <td>128 slots para armazenamento (sensores read-only)</td>
        </tr>
        <tr>
            <td><strong>Registradores</strong></td>
            <td><code>R0</code>, <code>R1</code> (uso geral) + match state (pontos, games, sets)</td>
        </tr>
        <tr>
            <td><strong>Labels</strong></td>
            <td>512 posições para saltos (if/while)</td>
        </tr>
        <tr>
            <td><strong>Match State</strong></td>
            <td>Rastreamento completo de placar de tênis</td>
        </tr>
    </table>
</div>

<!-- SLIDE 9: CONJUNTO DE INSTRUÇÕES -->
<div class="slide">
    <h1>ISA - Instruction Set Architecture</h1>
    <h3>Principais Categorias (40+ instruções)</h3>
    <ul style="font-size: 1.05em;">
        <li><strong>Stack:</strong> PUSH_NUM, POP, DUP</li>
        <li><strong>Aritmética:</strong> ADD, SUB, MUL, DIV, MOD</li>
        <li><strong>Lógica:</strong> AND, OR, NOT, EQ, LT, GT, LE, GE</li>
        <li><strong>Registradores:</strong> LOAD_R0, LOAD_R1, PUSH_R0, PUSH_R1, INC_R0, DEC_R0, INC_R1, DEC_R1</li>
        <li><strong>Variáveis:</strong> LOAD_VAR, STORE_VAR</li>
        <li><strong>Controle:</strong> LABEL, JUMP, JZ, JNZ</li>
        <li><strong>I/O:</strong> READLINE, LOG, PRINT</li>
        <li><strong>Tênis:</strong> START_MATCH, ADD_POINT, PRINT_SCORE, SET_CONFIG, etc.</li>
    </ul>
</div>

<!-- SLIDE 10: TURING-COMPLETUDE -->
<div class="slide">
    <h1>Turing-Completude</h1>
    <h3>QuadraVM é equivalente a uma Counter Machine</h3>
    <div class="highlight">
        <strong>Requisitos satisfeitos:</strong>
        <ol>
            <li><strong>Memória ilimitada:</strong> Stack (1024) + Variáveis (128)</li>
            <li><strong>Registradores:</strong> R0, R1 (mínimo: 2)</li>
            <li><strong>Operações primitivas:</strong>
                <ul>
                    <li>INC_R0, INC_R1 (incremento)</li>
                    <li>DEC_R0, DEC_R1 (decremento)</li>
                    <li>JZ (salto se zero)</li>
                </ul>
            </li>
        </ol>
    </div>
    <p style="font-size: 1.1em; margin-top: 20px;">
        <strong>Conclusão:</strong> Com INC, DEC e JZ, a VM pode simular qualquer Máquina de Turing - <strong>Referência:</strong> <a href="https://en.wikipedia.org/wiki/Counter_machine">Counter Machine - Wikipedia</a>
    </p>
</div>

<!-- SLIDE 11: COMPILADOR -->
<div class="slide">
    <h1>Ferramentas de Compilação</h1>
    <h3>Stack Tecnológico</h3>
    <table>
        <tr>
            <th>Ferramenta</th>
            <th>Função</th>
            <th>Arquivo</th>
        </tr>
        <tr>
            <td><strong>Flex 2.6+</strong></td>
            <td>Análise léxica (tokenização)</td>
            <td><code>lexer.l</code></td>
        </tr>
        <tr>
            <td><strong>Bison 3.8+</strong></td>
            <td>Análise sintática (parsing)</td>
            <td><code>parser.y</code></td>
        </tr>
        <tr>
            <td><strong>GCC/C11</strong></td>
            <td>Geração de código intermediário</td>
            <td><code>codegen.c</code></td>
        </tr>
        <tr>
            <td><strong>Make</strong></td>
            <td>Sistema de build</td>
            <td><code>Makefile</code></td>
        </tr>
    </table>
    <div class="success">
        <strong>Compilação sem warnings</strong> (<code>-Wall -Wextra</code>) - <strong>Padrão POSIX C com extensões GNU</strong>
    </div>
</div>

<!-- SLIDE 12: EXEMPLOS DE TESTE -->
<div class="slide">
    <h1>Exemplos de Teste (8 programas)</h1>
    <table>
        <tr>
            <th>Arquivo</th>
            <th>Descrição</th>
        </tr>
        <tr>
            <td><code>demo.qs</code></td>
            <td>Demonstração geral da linguagem com todos os recursos</td>
        </tr>
        <tr>
            <td><code>treino_basico.qs</code></td>
            <td>Sessões de treino estruturadas com etapas e descanso</td>
        </tr>
        <tr>
            <td><code>controle_fluxo.qs</code></td>
            <td>Estruturas condicionais if/else, loops while e entrada readline</td>
        </tr>
        <tr>
            <td><code>partida_completa.qs</code></td>
            <td>Simulação completa de partida com placar visual</td>
        </tr>
        <tr>
            <td><code>loops.qs</code></td>
            <td>Demonstração de loops aninhados e controle de fluxo complexo</td>
        </tr>
        <tr>
            <td><code>match_simulation.qs</code></td>
            <td>Match profissional completo: 6 games entre Nadal e Federer</td>
        </tr>
        <tr>
            <td><code>rally.qs</code></td>
            <td>Treino interativo de rally com entrada do usuário</td>
        </tr>
        <tr>
            <td><code>test_print.qs</code></td>
            <td>Testes do comando print() com diferentes tipos de dados</td>
        </tr>
    </table>
</div>

<!-- SLIDE 13: CURIOSIDADE 1 -->
<div class="slide">
    <h1>Curiosidade: Placar Visual</h1>
    <h3>Caracteres Unicode Box-Drawing</h3>
    <pre>
┌──────────────────────────────────────────┐
│         PLACAR - SET 1                   │
├──────────────────────────────────────────┤
│  Nadal         │  3  │ 15               │
│  Federer       │  2  │ 30               │
└──────────────────────────────────────────┘
</pre>
    <p style="font-size: 1.2em; margin-top: 30px;">
        <strong>Implementação:</strong> Função <code>print_score()</code> em <code>quadravm.c</code> - 
        <strong>Vantagem:</strong> Feedback visual profissional durante simulações - 
        <strong>Detalhes:</strong> Suporta sistema de pontuação oficial (0-15-30-40-game)
    </p>
</div>

<!-- SLIDE 14: CURIOSIDADE 2 -->
<div class="slide">
    <h1>Curiosidade: Modo No-Ad</h1>
    <h3>Configuração Personalizada de Partida</h3>
    <pre>
# Modo tradicional (advantage)
config("no_ad", 0);

# Modo rápido (no advantage - ponto de ouro em 40-40)
config("no_ad", 1);
</pre>
    <div class="highlight">
        <p><strong>No-Ad Tennis:</strong> Formato usado em competições rápidas onde em 40-40 não há "vantagem", 
        mas sim um ponto decisivo (sudden death).</p>
        <p style="margin-top: 15px;"><strong>Implementação:</strong> Flag no <code>MatchState</code> da VM que altera 
        o comportamento da função <code>add_point_to_player()</code>.</p>
    </div>
</div>

<!-- SLIDE 15: CURIOSIDADE 3 -->
<div class="slide">
    <h1>Curiosidade: Comandos de Domínio</h1>
    <h3>Vocabulário Específico de Tênis</h3>
    <table>
        <tr>
            <th>Comando</th>
            <th>Uso no Tênis Real</th>
        </tr>
        <tr>
            <td><code>ace(player)</code></td>
            <td>Saque direto, sem toque do adversário</td>
        </tr>
        <tr>
            <td><code>doublefault(player)</code></td>
            <td>Duas falhas de saque consecutivas</td>
        </tr>
        <tr>
            <td><code>rally(player, tipo)</code></td>
            <td>Troca de bolas (forehand, backhand, slice, etc.)</td>
        </tr>
        <tr>
            <td><code>descanso(mins)</code></td>
            <td>Pausa entre exercícios</td>
        </tr>
        <tr>
            <td><code>rename(player, nome)</code></td>
            <td>Trocar nome do jogador durante match</td>
        </tr>
    </table>
    <p style="margin-top: 20px; font-size: 1.1em;">
        <strong>Objetivo:</strong> Fazer código que "soa" como narração de partida! 
    </p>
</div>

<!-- SLIDE 16: ESTRUTURA DE ARQUIVOS -->
<div class="slide">
    <h1>Estrutura do Projeto</h1>
    <pre>
APS-QuadraSimples-LogComp/
├── lexer.l              # Análise léxica (Flex)
├── parser.y             # Análise sintática (Bison)
├── codegen.c/h          # Geração de assembly .qvm
├── main.c               # Entry point do compilador
├── quadravm.c           # Máquina virtual
├── Makefile             # Sistema de build
├── README.md            # Documentação completa (400+ linhas)
├── docs/
│   ├── gramatica-ebnf.md        # EBNF formal (317 linhas)
│   └── QuadraSimples-APS-slides.md  # Apresentação original
└── examples/
    ├── demo.qs
    ├── treino_basico.qs
    ├── controle_fluxo.qs
    ├── partida_completa.qs
    ├── loops.qs
    ├── match_simulation.qs
    ├── rally.qs
    └── test_print.qs
</pre>
</div>

<!-- SLIDE 17: COMO USAR -->
<div class="slide">
    <h1>Como Compilar e Executar</h1>
    <h3>1. Compilar o projeto</h3>
    <pre>
$ make
</pre>
    <h3>2. Compilar um programa QuadraSimples</h3>
    <pre>
$ ./quadrasimples examples/demo.qs
</pre>
    <h3>3. Executar na VM</h3>
    <pre>
$ ./quadravm out.qvm
</pre>
    <h3>Atalho (compilar + executar)</h3>
    <pre>
$ ./quadrasimples examples/partida_completa.qs && ./quadravm out.qvm
</pre>
</div>

<!-- SLIDE 18: CONCEITO BÔNUS -->
<div class="slide">
    <h1>Conceito Bônus: QuadraVM - Implementação Própria</h1>
    <div class="success" style="font-size: 1.1em; padding: 20px;">
        <strong>+1 Conceito:</strong> "Criação de nova VM: +1 conceito. A nota final do APS poderá extrapolar o A+ e contabilizar mais pontos na média final."
    </div>
    <h3 style="margin-top: 25px;">Por que criar uma VM do zero?</h3>
    <p style="font-size: 1.05em;">Em vez de usar máquinas virtuais prontas como LLVM ou Python, desenvolvi a <strong>QuadraVM em C</strong> para ter controle total sobre o comportamento da linguagem:</p>
    <ul style="font-size: 1.0em; line-height: 1.6;">
        <li><strong>Estado de jogo integrado:</strong> A VM mantém o placar da partida (pontos, games, sets) internamente, como se fosse uma quadra de tênis virtual</li>
        <li><strong>Comandos nativos de tênis:</strong> Operações como "dar ponto", "sacar" e "mostrar placar" são instruções diretas da máquina, não funções externas</li>
        <li><strong>Arquitetura flexível:</strong> Combina uma pilha para cálculos matemáticos com registradores para controlar repetições e loops</li>
        <li><strong>Placar visual personalizado:</strong> A VM desenha o placar de tênis formatado no terminal, algo impossível com VMs genéricas</li>
        <li><strong>Computacionalmente completa:</strong> Possui instruções de incremento, decremento e salto condicional, permitindo implementar qualquer algoritmo</li>
    </ul>
    <p style="font-size: 1.05em; margin-top: 15px;"><strong>Resultado:</strong> Uma máquina virtual especializada em tênis, que entende o domínio do esporte ao invés de ser apenas um interpretador genérico.</p>
</div>

<!-- SLIDE 19: CONCLUSÃO -->
<div class="slide">
    <h1 class="center">Conclusão</h1>
    <h2 class="center" style="margin-top: 60px;">QuadraSimples</h2>
    <p class="center" style="font-size: 1.2em; margin: 40px 0;">
        Uma DSL completa para o mundo do tênis, com compilador robusto e VM customizada.
    </p>
    <div class="success" style="font-size: 1.1em; margin-top: 50px;">
        <strong>Repositório GitHub:</strong> APS-QuadraSimples-LogComp | 
        <strong>Autor:</strong> Daniel Marco Djanikian | 
        <strong>Curso:</strong> Engenharia da Computação - Insper | 
        <strong>Disciplina:</strong> Lógica da Computação | 
        <strong>Data:</strong> Dezembro 2025
    </div>
    <h3 class="center" style="margin-top: 70px; font-size: 1.4em;">
        Obrigado!
    </h3>
</div>

</body>
</html>
